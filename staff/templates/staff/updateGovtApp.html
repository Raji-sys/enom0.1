{%extends "base.html" %}
{% block title %}government appointment form{% endblock%}
{% block main %}
<div class="border-2 border-green-800 w-1/2 mx-auto mt-1 md:p-14 bg-white shadow-2xl overflow-hidden sm:rounded-lg backdrop-blur-sm">
    <section class=" text-center border-b-2 border-green-700">
        <p class="text-green-800 uppercase   text-3xl">government appointment form</p> 
<p class=" text-2xl uppercase text-blue-500">{% for m in messages%}
        {{m}}
        <p><a href="{% url 'staff:staffdetail' user.id %}">go back </a></p>
    </p>
    {%endfor%}
    </section>
<form action="" method="POST" class="flex flex-col justify-center uppercase text-green-900" id="">
    {% csrf_token %}
    {%load widget_tweaks%}
              <div class="p-4 mr-4">
            {% for field in govtappform %}
            <div class="mb-4">
              <div class="flex flex-col">
                <label class="" for="{{field.id_for_label}}">{{field.label}}</label>
              <div>
                {{field|add_class:'focus:outline-none border-b-4 border-gray-300 inBtn text-white  rounded shadow-lg hover:shadow-xl'}}
              </div>
              <div class="text-red-600">
                {{field.errors}}
              </div>
            </div>
          </div>
            {%endfor%} 
            </div>
        <div>
          <button type="submit" class="py-4 focus:opacity-10 uppercase border-b-4 border-gray-500 focus:border-green-600 bg-gradient-to-r from-green-900 via-green-600 to-green-900 text-white rounded shadow-lg hover:shadow-xl text-center w-1/3">
            submit
          </button>
        </div>
</form>

<script>
  // Get the select elements
  const departmentSelect=document.getElementById('id_department');
  const postSelect=document.getElementById('id_current_post');

    const postOptions={
      'INFORMATION TECHNOLOGY':['PROGRAM ANALYST I','PROGRAM ANALYST II'],
      'ACCOUNT':['ACCOUNTANT I','ACCOUNTANT II']
  };

  departmentSelect.addEventListener('change',function(){
    const selectedDepartment=departmentSelect.value;
    postSelect.innerHTML='<option value="">Select Post</option>';
    
    if(selectedDepartment){
      const selectedDepartmentOptions=postOptions[selectedDepartment];
      populateOptions(postSelect,selectedDepartmentOptions);
    }
  });

function populateOptions(selectElement,options){
  options.forEach(option=>{
    const optionElement=document.createElement('option')
    optionElement.text=option;
    optionElement.value=option;
    selectElement.add(optionElement)
  });
}

</script>

</div>
{% endblock %}